{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _Object$getPrototypeOf from 'babel-runtime/core-js/object/get-prototype-of';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nvar SocialMediaShareCount = function (_Component) {\n  _inherits(SocialMediaShareCount, _Component);\n\n  function SocialMediaShareCount(props) {\n    _classCallCheck(this, SocialMediaShareCount);\n\n    var _this = _possibleConstructorReturn(this, (SocialMediaShareCount.__proto__ || _Object$getPrototypeOf(SocialMediaShareCount)).call(this, props));\n\n    _this._isMounted = false;\n    _this.state = {\n      count: 0\n    };\n    return _this;\n  }\n\n  _createClass(SocialMediaShareCount, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._isMounted = true;\n      this.updateCount(this.props.url);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.url !== this.props.url) {\n        this.updateCount(this.props.url);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: 'updateCount',\n    value: function updateCount(url) {\n      var _this2 = this;\n\n      if (this.props.getCount) {\n        this.setState({\n          isLoading: true\n        });\n        this.props.getCount(url, function (count) {\n          if (_this2._isMounted) {\n            _this2.setState({\n              count: count,\n              isLoading: false\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state = this.state,\n          count = _state.count,\n          isLoading = _state.isLoading;\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className;\n      return React.createElement('div', {\n        className: cx('SocialMediaShareCount', className)\n      }, !isLoading && children(count || 0));\n    }\n  }]);\n\n  return SocialMediaShareCount;\n}(Component);\n\nSocialMediaShareCount.propTypes = {\n  children: PropTypes.func,\n  className: PropTypes.string,\n  getCount: PropTypes.func,\n  url: PropTypes.string.isRequired\n};\nSocialMediaShareCount.defaultProps = {\n  children: function children(shareCount) {\n    return shareCount;\n  }\n};\nexport default function shareCountFactory(getCount) {\n  return function (props) {\n    return React.createElement(SocialMediaShareCount, _extends({\n      getCount: getCount\n    }, props));\n  };\n}","map":{"version":3,"sources":["/projects/lordabbet/repo/captivate-common-lib/node_modules/react-share/es/utils/shareCountFactory.js"],"names":["_extends","_Object$getPrototypeOf","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","Component","PropTypes","cx","SocialMediaShareCount","_Component","props","_this","__proto__","call","_isMounted","state","count","key","value","componentDidMount","updateCount","url","componentDidUpdate","prevProps","componentWillUnmount","_this2","getCount","setState","isLoading","render","_state","_props","children","className","createElement","propTypes","func","string","isRequired","defaultProps","shareCount","shareCountFactory"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _Object$getPrototypeOf from 'babel-runtime/core-js/object/get-prototype-of';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nvar SocialMediaShareCount = function (_Component) {\n  _inherits(SocialMediaShareCount, _Component);\n\n  function SocialMediaShareCount(props) {\n    _classCallCheck(this, SocialMediaShareCount);\n\n    var _this = _possibleConstructorReturn(this, (SocialMediaShareCount.__proto__ || _Object$getPrototypeOf(SocialMediaShareCount)).call(this, props));\n\n    _this._isMounted = false;\n    _this.state = { count: 0 };\n    return _this;\n  }\n\n  _createClass(SocialMediaShareCount, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._isMounted = true;\n      this.updateCount(this.props.url);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.url !== this.props.url) {\n        this.updateCount(this.props.url);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: 'updateCount',\n    value: function updateCount(url) {\n      var _this2 = this;\n\n      if (this.props.getCount) {\n        this.setState({\n          isLoading: true\n        });\n\n        this.props.getCount(url, function (count) {\n          if (_this2._isMounted) {\n            _this2.setState({\n              count: count,\n              isLoading: false\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state = this.state,\n          count = _state.count,\n          isLoading = _state.isLoading;\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className;\n\n\n      return React.createElement(\n        'div',\n        { className: cx('SocialMediaShareCount', className) },\n        !isLoading && children(count || 0)\n      );\n    }\n  }]);\n\n  return SocialMediaShareCount;\n}(Component);\n\nSocialMediaShareCount.propTypes = {\n  children: PropTypes.func,\n  className: PropTypes.string,\n  getCount: PropTypes.func,\n  url: PropTypes.string.isRequired\n};\n\nSocialMediaShareCount.defaultProps = {\n  children: function children(shareCount) {\n    return shareCount;\n  }\n};\n\nexport default function shareCountFactory(getCount) {\n  return function (props) {\n    return React.createElement(SocialMediaShareCount, _extends({ getCount: getCount }, props));\n  };\n}"]},"metadata":{},"sourceType":"module"}